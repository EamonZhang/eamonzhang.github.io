<!doctype html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <title>fio ç¡¬ç›˜æ€§èƒ½æµ‹è¯• | Let&#39;s go ğŸŒ ğŸŒ ğŸŒ</title>
    <meta property="og:title" content="fio ç¡¬ç›˜æ€§èƒ½æµ‹è¯• - Let&#39;s go ğŸŒ ğŸŒ ğŸŒ">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2018-12-04T10:30:48&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2018-12-04T10:30:48&#43;08:00'>
        
    <meta name="Keywords" content="postgres ã€pythonã€pg ã€linix ã€dockerã€ kubernetesã€ cloudã€hadoopã€promethues ">
    <meta name="description" content="fio ç¡¬ç›˜æ€§èƒ½æµ‹è¯•">
        
    <meta name="author" content="Eamon">
    <meta property="og:url" content="https://zhangeamon.top/linux/fio/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    
    
    <script type="text/javascript" src="/js/jquery.min.js"></script>
   
    
    
    
    
    
    
        <link rel="stylesheet" href='/css/douban.css'>
    
        <link rel="stylesheet" href='/css/other.css'>
    
   
        <a href=https://github.com/eamonzhang><img style="position: absolute; top: 0; left: 0; border: 0;" src="/images/forkme_left_red_aa0000.png" alt="Fork me on GitHub" data-canonical-src="/images/forkme_left_red_aa0000.png"></a>

   
        <script>
          var _hmt = _hmt || [];
            (function() {
            var hm = document.createElement("script");
            <!-- hm.src = "https://hm.baidu.com/hm.js?1f6605a363a50554aa03adcc685b7699"; -->
            hm.src = "https://hm.baidu.com/hm.js?0010600e9ae6ff8f5814bb7ec6b36072";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
       </script>
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zhangeamon.top">
                        Let&#39;s go ğŸŒ ğŸŒ ğŸŒ
                    </a>
                
                <p class="description">Let&#39;s build our own cloud native together  </p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zhangeamon.top">é¦–é¡µ</a>
                    
                    <a  href="https://zhangeamon.top/archives" title="å½’æ¡£">å½’æ¡£</a>
                    
                    <a  href="https://zhangeamon.top/postgresql" title="Postgres">Postgres</a>
                    
                    <a  href="https://zhangeamon.top/linux" title="Linux">Linux</a>
                    
                    <a  href="https://zhangeamon.top/about/me" title="å…³äº">å…³äº</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    

    <article class="post">
        <header>
            <h1 class="post-title">fio ç¡¬ç›˜æ€§èƒ½æµ‹è¯•</h1>
        </header>
        <date class="post-meta meta-date">
            2018å¹´12æœˆ4æ—¥
        </date>
        
        
        
        <div class="post-content">
            <h4 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h4>
<p>ä½¿ç”¨FIOä¹‹å‰ï¼Œé¦–å…ˆè¦æœ‰ä¸€äº›SSDæ€§èƒ½æµ‹è¯•çš„åŸºç¡€çŸ¥è¯†ã€‚ åŒ…æ‹¬çº¿ç¨‹ï¼Œé˜Ÿåˆ—æ·±åº¦ï¼ŒOffsetï¼ŒåŒæ­¥å¼‚æ­¥ï¼ŒDirectIOï¼ŒBIOã€‚</p>
<h5 id="çº¿ç¨‹">çº¿ç¨‹</h5>
<p>çº¿ç¨‹æŒ‡çš„æ˜¯åŒæ—¶æœ‰å¤šå°‘ä¸ªè¯»æˆ–å†™ä»»åŠ¡åœ¨å¹¶è¡Œæ‰§è¡Œï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒCPUé‡Œé¢çš„ä¸€ä¸ªæ ¸å¿ƒåŒä¸€æ—¶é—´åªèƒ½è¿è¡Œä¸€ä¸ªçº¿ç¨‹ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªæ ¸å¿ƒï¼Œè¦æƒ³è¿è¡Œå¤šçº¿ç¨‹ï¼Œåªèƒ½ä½¿ç”¨æ—¶é—´åˆ‡ç‰‡ï¼Œæ¯ä¸ªçº¿ç¨‹è·‘ä¸€æ®µæ—¶é—´ç‰‡ï¼Œæ‰€æœ‰çº¿ç¨‹è½®æµä½¿ç”¨è¿™ä¸ªæ ¸å¿ƒã€‚Linuxä½¿ç”¨Jiffiesæ¥ä»£è¡¨ä¸€ç§’é’Ÿè¢«åˆ’åˆ†æˆäº†å¤šå°‘ä¸ªæ—¶é—´ç‰‡ï¼Œä¸€èˆ¬æ¥è¯´Jiffiesæ˜¯1000æˆ–100ï¼Œæ‰€ä»¥æ—¶é—´ç‰‡å°±æ˜¯1æ¯«ç§’æˆ–10æ¯«ç§’ã€‚</p>
<h5 id="åŒæ­¥">åŒæ­¥</h5>
<p>ä¸€èˆ¬ç”µè„‘å‘é€ä¸€ä¸ªè¯»å†™å‘½ä»¤åˆ°SSDåªéœ€è¦å‡ å¾®ç§’ï¼Œä½†æ˜¯SSDè¦èŠ±å‡ ç™¾å¾®ç§’ç”šè‡³å‡ æ¯«ç§’æ‰èƒ½æ‰§è¡Œå®Œè¿™ä¸ªå‘½ä»¤ã€‚å¦‚æœå‘ä¸€ä¸ªè¯»å†™å‘½ä»¤ï¼Œç„¶åçº¿ç¨‹ä¸€ç›´ä¼‘çœ ï¼Œç­‰å¾…ç»“æœå›æ¥æ‰å”¤é†’å¤„ç†ç»“æœï¼Œè¿™ç§å«åšåŒæ­¥æ¨¡å¼ã€‚å¯ä»¥æƒ³è±¡ï¼ŒåŒæ­¥æ¨¡å¼æ˜¯å¾ˆæµªè´¹SSDæ€§èƒ½çš„ï¼Œå› ä¸ºSSDé‡Œé¢æœ‰å¾ˆå¤šå¹¶è¡Œå•å…ƒï¼Œæ¯”å¦‚ä¸€èˆ¬ä¼ä¸šçº§SSDå†…éƒ¨æœ‰8-16ä¸ªæ•°æ®é€šé“ï¼Œæ¯ä¸ªé€šé“å†…éƒ¨æœ‰4-16ä¸ªå¹¶è¡Œé€»è¾‘å•å…ƒï¼ˆLUNï¼ŒPlaneï¼‰ï¼Œæ‰€ä»¥åŒä¸€æ—¶é—´å¯ä»¥æ‰§è¡Œ32-256ä¸ªè¯»å†™å‘½ä»¤ã€‚åŒæ­¥æ¨¡å¼å°±æ„å‘³ç€ï¼Œåªæœ‰å…¶ä¸­ä¸€ä¸ªå¹¶è¡Œå•å…ƒåœ¨å·¥ä½œï¼Œæš´æ®„å¤©ç‰©ã€‚</p>
<h5 id="å¼‚æ­¥">å¼‚æ­¥</h5>
<p>ä¸ºäº†æé«˜å¹¶è¡Œæ€§ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹SSDè¯»å†™é‡‡ç”¨çš„æ˜¯å¼‚æ­¥æ¨¡å¼ã€‚å°±æ˜¯ç”¨å‡ å¾®ç§’å‘é€å‘½ä»¤ï¼Œå‘å®Œçº¿ç¨‹ä¸ä¼šå‚»å‚»çš„åœ¨é‚£é‡Œç­‰ï¼Œè€Œæ˜¯ç»§ç»­å‘åé¢çš„å‘½ä»¤ã€‚å¦‚æœå‰é¢çš„å‘½ä»¤æ‰§è¡Œå®Œäº†ï¼ŒSSDé€šçŸ¥ä¼šé€šè¿‡ä¸­æ–­æˆ–è€…è½®è¯¢ç­‰æ–¹å¼å‘Šè¯‰CPUï¼ŒCPUæ¥è°ƒç”¨è¯¥å‘½ä»¤çš„å›è°ƒå‡½æ•°æ¥å¤„ç†ç»“æœã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼ŒSSDé‡Œé¢å‡ åä¸Šç™¾ä¸ªå¹¶è¡Œå•å…ƒå¤§å®¶éƒ½èƒ½åˆ†åˆ°æ´»å¹²ï¼Œæ•ˆç‡æš´å¢ã€‚</p>
<h5 id="é˜Ÿåˆ—æ·±åº¦">é˜Ÿåˆ—æ·±åº¦</h5>
<p>ä¸è¿‡ï¼Œåœ¨å¼‚æ­¥æ¨¡å¼ä¸‹ï¼ŒCPUä¸èƒ½ä¸€ç›´æ— é™çš„å‘å‘½ä»¤åˆ°SSDã€‚æ¯”å¦‚SSDæ‰§è¡Œè¯»å†™å¦‚æœå‘ç”Ÿäº†å¡é¡¿ï¼Œé‚£æœ‰å¯èƒ½ç³»ç»Ÿä¼šä¸€ç›´ä¸åœçš„å‘å‘½ä»¤ï¼Œå‡ åƒä¸ªï¼Œç”šè‡³å‡ ä¸‡ä¸ªï¼Œè¿™æ ·ä¸€æ–¹é¢SSDæ‰›ä¸ä½ï¼Œå¦ä¸€æ–¹é¢è¿™ä¹ˆå¤šå‘½ä»¤ä¼šå¾ˆå å†…å­˜ï¼Œç³»ç»Ÿä¹Ÿè¦æŒ‚æ‰äº†ã€‚è¿™æ ·ï¼Œå°±å¸¦æ¥ä¸€ä¸ªå‚æ•°å«åšé˜Ÿåˆ—æ·±åº¦ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œé˜Ÿåˆ—æ·±åº¦64å°±æ˜¯è¯´ï¼Œç³»ç»Ÿå‘çš„å‘½ä»¤éƒ½å‘åˆ°ä¸€ä¸ªå¤§å°ä¸º64çš„é˜Ÿåˆ—ï¼Œå¦‚æœå¡«æ»¡äº†å°±ä¸èƒ½å†å‘ã€‚ç­‰å‰é¢çš„è¯»å†™å‘½ä»¤æ‰§è¡Œå®Œäº†ï¼Œé˜Ÿåˆ—é‡Œé¢ç©ºå‡ºä½ç½®æ¥ï¼Œæ‰èƒ½ç»§ç»­å¡«å‘½ä»¤ã€‚</p>
<h5 id="offset">offset</h5>
<p>ä¸€ä¸ªSSDæˆ–è€…æ–‡ä»¶æœ‰å¤§å°ï¼Œæµ‹è¯•è¯»å†™çš„æ—¶å€™è®¾ç½®Offsetå°±å¯ä»¥ä»æŸä¸ªåç§»åœ°å€å¼€å§‹æµ‹è¯•ã€‚æ¯”å¦‚ä»offset=4Gçš„åç§»åœ°å€å¼€å§‹ã€‚</p>
<h5 id="directio">DirectIO</h5>
<p>Linuxè¯»å†™çš„æ—¶å€™ï¼Œå†…æ ¸ç»´æŠ¤äº†ç¼“å­˜ï¼Œæ•°æ®å…ˆå†™åˆ°ç¼“å­˜ï¼Œåé¢å†åå°å†™åˆ°SSDã€‚è¯»çš„æ—¶å€™ä¹Ÿä¼˜å…ˆè¯»ç¼“å­˜é‡Œçš„æ•°æ®ã€‚è¿™æ ·é€Ÿåº¦å¯ä»¥åŠ å¿«ï¼Œä½†æ˜¯ä¸€æ—¦æ‰ç”µç¼“å­˜é‡Œçš„æ•°æ®å°±æ²¡äº†ã€‚æ‰€ä»¥æœ‰ä¸€ç§æ¨¡å¼å«åšDirectIOï¼Œè·³è¿‡ç¼“å­˜ï¼Œç›´æ¥è¯»å†™SSDã€‚</p>
<h5 id="bio">BIO</h5>
<p>Linuxè¯»å†™SSDç­‰å—è®¾å¤‡ä½¿ç”¨çš„æ˜¯BIOï¼ŒBlock-IOï¼Œè¿™æ˜¯ä¸ªæ•°æ®ç»“æ„ï¼ŒåŒ…å«äº†æ•°æ®å—çš„é€»è¾‘åœ°å€LBAï¼Œæ•°æ®å¤§å°å’Œå†…å­˜åœ°å€ç­‰ã€‚</p>
<h4 id="å®‰è£…">å®‰è£…</h4>
<p><a href="https://github.com/axboe/fio">å®˜ç½‘åœ°å€</a></p>
<pre><code>./configure;make &amp;&amp; make install
</code></pre><p>DEMO å¦‚æœç¼ºå¤±libaioé©±åŠ¨å¼•æ“å¯é€šè¿‡ yum install -y libaio-devel å®‰è£…åé‡æ–°ç¼–è¯‘å®‰è£…</p>
<pre><code>fio -rw=randwrite  -ioengine=libaio -direct=1 -thread -numjobs=1  -iodepth=64 -filename=/data/1.data -size=10G \
  -name=job1 -offset=0MB -bs=4k -name=job2 -offset=10G -bs=16k \
  -output TestResult.log
</code></pre><p>ç®€å•è¯´æ˜</p>
<pre><code>fioï¼šè½¯ä»¶åç§°ã€‚

-rw=randwriteï¼šè¯»å†™æ¨¡å¼ï¼Œrandwriteæ˜¯éšæœºå†™æµ‹è¯•ï¼Œè¿˜æœ‰é¡ºåºè¯»readï¼Œé¡ºåºå†™writeï¼Œéšæœºè¯»randreadï¼Œæ··åˆè¯»å†™ç­‰ã€‚

-ioengine=libaioï¼šlibaioæŒ‡çš„æ˜¯å¼‚æ­¥æ¨¡å¼ï¼Œå¦‚æœæ˜¯åŒæ­¥å°±è¦ç”¨syncã€‚

-direct=1ï¼šæ˜¯å¦ä½¿ç”¨directIOã€‚

-threadï¼šä½¿ç”¨pthread_createåˆ›å»ºçº¿ç¨‹ï¼Œå¦ä¸€ç§æ˜¯forkåˆ›å»ºè¿›ç¨‹ã€‚è¿›ç¨‹çš„å¼€é”€æ¯”çº¿ç¨‹è¦å¤§ï¼Œä¸€èˆ¬éƒ½é‡‡ç”¨threadæµ‹è¯•ã€‚

â€“numjobs=1ï¼šæ¯ä¸ªjobæ˜¯1ä¸ªçº¿ç¨‹ï¼Œè¿™é‡Œç”¨äº†å‡ ï¼Œåé¢æ¯ä¸ªç”¨-nameæŒ‡å®šçš„ä»»åŠ¡å°±å¼€å‡ ä¸ªçº¿ç¨‹æµ‹è¯•ã€‚æ‰€ä»¥æœ€ç»ˆçº¿ç¨‹æ•°=ä»»åŠ¡æ•°* numjobsã€‚

-iodepth=64ï¼šé˜Ÿåˆ—æ·±åº¦64.

-filename=/dev/sdb4ï¼šæ•°æ®å†™åˆ°/dev/sdb4è¿™ä¸ªç›˜ï¼ˆå—è®¾å¤‡ï¼‰ã€‚è¿™é‡Œå¯ä»¥æ˜¯ä¸€ä¸ªæ–‡ä»¶åï¼Œä¹Ÿå¯ä»¥æ˜¯åˆ†åŒºæˆ–è€…SSDã€‚

-size=10Gï¼šæ¯ä¸ªçº¿ç¨‹å†™å…¥æ•°æ®é‡æ˜¯10GBã€‚

-name=job1ï¼šä¸€ä¸ªä»»åŠ¡çš„åå­—ï¼Œåå­—éšä¾¿èµ·ï¼Œé‡å¤äº†ä¹Ÿæ²¡å…³ç³»ã€‚è¿™ä¸ªä¾‹å­æŒ‡å®šäº†job1å’Œjob2ï¼Œå»ºç«‹äº†ä¸¤ä¸ªä»»åŠ¡ï¼Œå…±äº«-name=job1ä¹‹å‰çš„å‚æ•°ã€‚-nameä¹‹åçš„å°±æ˜¯è¿™ä¸ªä»»åŠ¡ç‹¬æœ‰çš„å‚æ•°ã€‚

-offset=0MBï¼šä»åç§»åœ°å€0MBå¼€å§‹å†™ã€‚

-bs=4kï¼šæ¯ä¸€ä¸ªBIOå‘½ä»¤åŒ…å«çš„æ•°æ®å¤§å°æ˜¯4KBã€‚ä¸€èˆ¬4KB IOPSæµ‹è¯•ï¼Œå°±æ˜¯åœ¨è¿™é‡Œè®¾ç½®ã€‚

-output TestResult.logï¼šæ—¥å¿—è¾“å‡ºåˆ°TestResult.logã€‚
</code></pre><p>ç»“æœæŸ¥çœ‹ TestResult.log</p>
<pre><code>job2: (g=0): rw=randwrite, bs=(R) 16.0KiB-16.0KiB, (W) 16.0KiB-16.0KiB, (T) 16.0KiB-16.0KiB, ioengine=libaio, iodepth=64
fio-3.12
Starting 2 threads
job1: Laying out IO file (1 file / 10240MiB)
job2: Laying out IO file (1 file / 20480MiB)

job1: (groupid=0, jobs=1): err= 0: pid=15506: Tue Dec  4 10:00:43 2018
  write: IOPS=20.6k, BW=80.6MiB/s (84.5MB/s)(10.0GiB/127037msec)                 IOPSã€€æ¯ç§’IOæ¬¡æ•° 
    slat (usec): min=5, max=598750, avg=43.94, stdev=1586.09                     slatæ˜¯å‘å‘½ä»¤æ—¶é—´ã€€min æœ€å°ã€€max æœ€å¤§ã€€avg å¹³å‡ã€€stdev æ–¹å·®
    clat (usec): min=43, max=603566, avg=3052.73, stdev=12877.32                 clatæ˜¯å‘½ä»¤æ‰§è¡Œæ—¶é—´
     lat (usec): min=54, max=603643, avg=3096.88, stdev=12981.71                 lat æ€»å»¶è¿Ÿ
    clat percentiles (usec):
     |  1.00th=[   947],  5.00th=[  1483], 10.00th=[  1582], 20.00th=[  1680],
     | 30.00th=[  1729], 40.00th=[  1762], 50.00th=[  1795], 60.00th=[  1844],
     | 70.00th=[  2008], 80.00th=[  3130], 90.00th=[  3785], 95.00th=[  4490],
     | 99.00th=[ 10028], 99.50th=[ 30802], 99.90th=[219153], 99.95th=[312476],
     | 99.99th=[400557]
   bw (  KiB/s): min=  488, max=137212, per=43.04%, avg=71046.59, stdev=42517.77, samples=253
   iops        : min=  122, max=34303, avg=17761.47, stdev=10629.30, samples=253
  lat (usec)   : 50=0.01%, 100=0.08%, 250=0.17%, 500=0.28%, 750=0.25%
  lat (usec)   : 1000=0.31%
  lat (msec)   : 2=68.89%, 4=22.19%, 10=6.83%, 20=0.42%, 50=0.17%
  lat (msec)   : 100=0.11%, 250=0.23%, 500=0.07%, 750=0.01%
  cpu          : usr=4.48%, sys=43.73%, ctx=1226774, majf=0, minf=8
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
     issued rwts: total=0,2621440,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=64
job2: (groupid=0, jobs=1): err= 0: pid=15507: Tue Dec  4 10:00:43 2018
  write: IOPS=9368, BW=146MiB/s (153MB/s)(10.0GiB/69957msec)
    slat (usec): min=6, max=598777, avg=97.43, stdev=3165.14
    clat (usec): min=85, max=603836, avg=6720.55, stdev=25230.77
     lat (usec): min=111, max=603933, avg=6818.24, stdev=25431.27
    clat percentiles (usec):
     |  1.00th=[  1319],  5.00th=[  2245], 10.00th=[  2671], 20.00th=[  3064],
     | 30.00th=[  3326], 40.00th=[  3490], 50.00th=[  3621], 60.00th=[  3752],
     | 70.00th=[  4015], 80.00th=[  4359], 90.00th=[  5211], 95.00th=[  7767],
     | 99.00th=[122160], 99.50th=[202376], 99.90th=[371196], 99.95th=[383779],
     | 99.99th=[526386]
   bw (  KiB/s): min= 2816, max=308704, per=91.17%, avg=150510.73, stdev=91950.50, samples=139
   iops        : min=  176, max=19294, avg=9406.87, stdev=5746.90, samples=139
  lat (usec)   : 100=0.01%, 250=0.10%, 500=0.13%, 750=0.14%, 1000=0.18%
  lat (msec)   : 2=2.87%, 4=66.49%, 10=26.78%, 20=1.41%, 50=0.27%
  lat (msec)   : 100=0.41%, 250=0.90%, 500=0.29%, 750=0.02%
  cpu          : usr=2.51%, sys=25.66%, ctx=536398, majf=0, minf=2
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=0.1%, 16=0.1%, 32=0.1%, &gt;=64=100.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, &gt;=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.1%, &gt;=64=0.0%
     issued rwts: total=0,655360,0,0 short=0,0,0,0 dropped=0,0,0,0
     latency   : target=0, window=0, percentile=100.00%, depth=64

Run status group 0 (all jobs):
  WRITE: bw=161MiB/s (169MB/s), 80.6MiB/s-146MiB/s (84.5MB/s-153MB/s), io=20.0GiB (21.5GB), run=69957-127037msec

Disk stats (read/write):
    md0: ios=4/3310805, merge=0/0, ticks=0/0, in_queue=0, util=0.00%, aggrios=1/1698898, aggrmerge=0/484, aggrticks=0/749089, aggrin_queue=749104, aggrutil=70.32%
  sdb: ios=2/1698906, merge=0/486, ticks=1/780800, in_queue=780980, util=69.54%
  sdc: ios=0/1698928, merge=0/464, ticks=0/661183, in_queue=661093, util=69.63%
  sdd: ios=2/1698888, merge=0/487, ticks=1/798317, in_queue=798188, util=69.86%
  sde: ios=0/1698873, merge=0/502, ticks=0/756057, in_queue=756156, util=70.32%

</code></pre><p><a href="https://tobert.github.io/post/2014-04-17-fio-output-explained.html">æ›´å¤šè¯¦è§£è‹±æ–‡</a>
<a href="https://www.cnblogs.com/zhangeamon/p/7446814.html">æ›´å¤šè¯¦è§£ä¸­æ–‡</a></p>
<h4 id="é…ç½®æ–‡ä»¶æ–¹å¼">é…ç½®æ–‡ä»¶æ–¹å¼</h4>
<p>vi fio.conf</p>
<pre><code>[global]
  ioengine=libaio ;åŒæ­¥sync å¼‚æ­¥libaio 
  rw=randwrite ;randwrite randread wite read randrw
  direct=1
  thread
  numjobs=1
  iodepth=64 
  filename=/data/1.data ;æµ‹è¯•æ–‡ä»¶ï¼Œå—è®¾å¤‡
  size=10G
;--start jobs
[job1]
  name=job1
  offset=0MB 
  bs=4k
[job2]
  name=job2
  offset=10G 
  bs=16k
;--end jobs
</code></pre><p>è¿è¡Œ</p>
<pre><code>$fio fio.conf 
</code></pre>
        </div>

        


        

<div class="post-archive">
    <h2>å…¶ä»–æ–‡ç« </h2>
    <ul class="listing">
        
        <li><a href="/linux/smartctl/">smartctl ç¡¬ç›˜æ£€æµ‹</a></li>
        
        <li><a href="/linux/mdadm/">mdadm è½¯Raid ç®¡ç†</a></li>
        
        <li><a href="/linux/init-centos/">Centos åˆå§‹åŒ–é…ç½®</a></li>
        
    </ul>
</div>



        <div class="post-meta meta-tags">
            
            æ²¡æœ‰æ ‡ç­¾
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "your github repo"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2018 - 2021 <a href="https://zhangeamon.top"> By Eamon</a>
        
    </div>
    <br />
  
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>






    <script src='/js/douban.js'></script>


                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zhangeamon.top/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zhangeamon.top">
      <button type="submit" class="submit icon-search"></button>
</form>

    </section>
    
    <section class="widget">
        <h3 class="widget-title">æœ€è¿‘æ–‡ç« </h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zhangeamon.top/linux/perf/" title="perf linux æ€§èƒ½åˆ†æ">perf linux æ€§èƒ½åˆ†æ</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/linux/xz/" title="é«˜å‹ç¼©æ¯”å·¥å…· XZ">é«˜å‹ç¼©æ¯”å·¥å…· XZ</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/ch/install/" title="ClickHouse">ClickHouse</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/postgres/pg_json/" title="æ•°æ®åº“çš„jsonç±»å‹">æ•°æ®åº“çš„jsonç±»å‹</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/python/simple-demo/" title="python ç®€å•ç¤ºä¾‹">python ç®€å•ç¤ºä¾‹</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/redis/long-polling/" title="é•¿è½®è¯¢">é•¿è½®è¯¢</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/redis/automated-keyword/" title="è”æƒ³æœç´¢">è”æƒ³æœç´¢</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/python/push_messages/" title="æ¶ˆæ¯æ¨é€">æ¶ˆæ¯æ¨é€</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/postgres/pg_elk/" title="æ•°æ®åº“æ—¥å¿—åˆ†æ">æ•°æ®åº“æ—¥å¿—åˆ†æ</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/linux/findhidpid/" title="Linux æ‰¾å‡ºéšè—è¿›ç¨‹">Linux æ‰¾å‡ºéšè—è¿›ç¨‹</a>
    </li>
    
</ul>

    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories'>åˆ†ç±»</a></h3>
<ul class="widget-list">
    
    <li><a href="https://zhangeamon.top/categories/ansible/">ansible (4)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/docker/">docker (1)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/etcd/">etcd (1)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/linux/">linux (17)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/mysql/">mysql (4)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/nginx/">nginx (2)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/postgres/">postgres (23)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/python/">python (17)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/rabbitmq/">rabbitmq (2)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/redis/">redis (9)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/">ä¸­é—´ä»¶ (9)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E5%AD%98%E5%82%A8/">å­˜å‚¨ (3)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E5%AE%89%E5%85%A8/">å®‰å…¨ (2)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E6%95%B0%E4%BB%93/">æ•°ä»“ (3)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E7%9B%91%E6%8E%A7/">ç›‘æ§ (2)</a></li>
    
</ul>

    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags.html'>æ ‡ç­¾</a></h3>
<div class="tagcloud">
    
    <a href="https://zhangeamon.top/tags/%E4%BC%98%E5%8C%96/">ä¼˜åŒ–</a>
    
    <a href="https://zhangeamon.top/tags/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/">é…ç½®ç®¡ç†</a>
    
    <a href="https://zhangeamon.top/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/">é«˜å¯ç”¨</a>
    
</div>

    </section>

    
<section class="widget">
    <h3 class="widget-title">å‹æƒ…é“¾æ¥</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="http://www.cnblogs.com/zhangeamon" title="å†å²åšå®¢">å†å²åšå®¢</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">å…¶å®ƒ</h3>
        <ul class="widget-list">
            <li><a href="https://zhangeamon.top/index.xml">æ–‡ç«  RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
   
</body>

</html>
