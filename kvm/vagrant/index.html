<!doctype html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <title>vagrant | Let&#39;s go ğŸŒ ğŸŒ ğŸŒ</title>
    <meta property="og:title" content="vagrant - Let&#39;s go ğŸŒ ğŸŒ ğŸŒ">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-07-13T09:32:49&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-07-13T09:32:49&#43;08:00'>
        
    <meta name="Keywords" content="postgres ã€pythonã€pg ã€linix ã€dockerã€ kubernetesã€ cloudã€hadoopã€promethues ">
    <meta name="description" content="vagrant">
        
    <meta name="author" content="Eamon">
    <meta property="og:url" content="https://zhangeamon.top/kvm/vagrant/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    
    
    <script type="text/javascript" src="/js/jquery.min.js"></script>
   
    
    
    
    
    
    
        <link rel="stylesheet" href='/css/douban.css'>
    
        <link rel="stylesheet" href='/css/other.css'>
    
   
        <a href=https://github.com/eamonzhang><img style="position: absolute; top: 0; left: 0; border: 0;" src="/images/forkme_left_red_aa0000.png" alt="Fork me on GitHub" data-canonical-src="/images/forkme_left_red_aa0000.png"></a>

   
        <script>
          var _hmt = _hmt || [];
            (function() {
            var hm = document.createElement("script");
            <!-- hm.src = "https://hm.baidu.com/hm.js?1f6605a363a50554aa03adcc685b7699"; -->
            hm.src = "https://hm.baidu.com/hm.js?0010600e9ae6ff8f5814bb7ec6b36072";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
       </script>
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zhangeamon.top">
                        Let&#39;s go ğŸŒ ğŸŒ ğŸŒ
                    </a>
                
                <p class="description">Let&#39;s build our own cloud native together  </p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zhangeamon.top">é¦–é¡µ</a>
                    
                    <a  href="https://zhangeamon.top/archives" title="å½’æ¡£">å½’æ¡£</a>
                    
                    <a  href="https://zhangeamon.top/postgresql" title="Postgres">Postgres</a>
                    
                    <a  href="https://zhangeamon.top/linux" title="Linux">Linux</a>
                    
                    <a  href="https://zhangeamon.top/about/me" title="å…³äº">å…³äº</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    

    <article class="post">
        <header>
            <h1 class="post-title">vagrant</h1>
        </header>
        <date class="post-meta meta-date">
            2020å¹´7æœˆ13æ—¥
        </date>
        
        
        
        <div class="post-content">
            <h2 id="ä»‹ç»">ä»‹ç»</h2>
<p>é€šå¸¸ç”¨vagrant æ¥ç®¡ç†VirtualBox ,VMWareï¼Œæ–¹ä¾¿æµ‹è¯•ç¯å¢ƒçš„åˆ›å»ºï¼Œé”€æ¯ã€‚ä¸å¸¸æŠ˜è…¾ç”¨virtualbox, åå¤æŠ˜è…¾ç”¨vagrantã€‚</p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p><a href="https://www.virtualbox.org/wiki/Downloads">ä¸‹è½½virtualbox</a></p>
<p><a href="https://www.vagrantup.com/downloads.html">ä¸‹è½½vagrant</a></p>
<pre><code>-- å®‰è£…ä¾èµ–
#yum --enablerepo=epel -y install fuse-sshfs
#yum install bsdtar
#yum -y install gcc kernel kernel-devel
</code></pre><h2 id="å¸¸ç”¨æ–¹æ³•">å¸¸ç”¨æ–¹æ³•</h2>
<pre><code>--- é•œåƒç®¡ç†
æ·»åŠ é•œåƒ
#vagrant box add centos/7

æŸ¥çœ‹é•œåƒ
#vagrant box list
centos/7 (virtualbox, 2004.01)

-- é…ç½®ç®¡ç†
åˆå§‹åŒ–é»˜è®¤Vagrantfile
#vagrant init

é…ç½®Vagrantfileå®šä¹‰è™šæ‹Ÿæœº , å¯åŠ¨è™šæ‹Ÿæœº
#vagrant up

æŸ¥çœ‹çŠ¶æ€
#vagrant status
Current machine states:

node0                     running (virtualbox)
node1                     running (virtualbox)
node2                     running (virtualbox)
node3                     running (virtualbox)

ç™»å½•è™šæ‹Ÿæœº
#vagrant ssh node0

å…³é—­
#vagrant halt

åœæ­¢å¹¶é”€æ¯
#vagrant destroy 

é‡æ–°åŠ è½½,é‡å¯
#vagrant reload


</code></pre><h2 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h2>
<pre><code>å°†å½“å‰è·¯å¾„çš„æ‰€æœ‰å†…å®¹åŒæ­¥åˆ°è™šæ‹Ÿæœºå†…
Rsyncing folder: /å½“å‰è·¯å¾„ =&gt; /vagrant
</code></pre><pre><code>åŸºæœ¬æ–¹æ³•
     box             manages boxes: installation, removal, etc.
     cloud           manages everything related to Vagrant Cloud
     destroy         stops and deletes all traces of the vagrant machine
     halt            stops the vagrant machine
     reload          restarts vagrant machine, loads new Vagrantfile configuration
     resume          resume a suspended vagrant machine
     ssh             connects to machine via SSH
     status          outputs status of the vagrant machine
     up              starts and provisions the vagrant environment 
</code></pre><h2 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h2>
<p>cat Vagrantfile</p>
<pre><code>Vagrant.configure(&quot;2&quot;) do |config|
    config.vm.box = &quot;centos/7&quot;
    config.vm.box_check_update = false
    config.ssh.insert_key = false
    config.vm.define &quot;node0&quot;, primary: true do |s|
        s.vm.hostname = &quot;node0&quot;
        s.vm.network &quot;private_network&quot;, ip: &quot;10.10.10.10&quot;
        s.vm.provider &quot;virtualbox&quot; do |v|
            v.linked_clone = true
            v.customize [
                    &quot;modifyvm&quot;, :id,
                    &quot;--memory&quot;, 2048,
                    &quot;--cpus&quot;, &quot;2&quot;,
                    &quot;--nictype1&quot;, &quot;virtio&quot;,
                    &quot;--nictype2&quot;, &quot;virtio&quot;,
                    &quot;--hwvirtex&quot;, &quot;on&quot;,
                    &quot;--ioapic&quot;, &quot;on&quot;,
                    &quot;--rtcuseutc&quot;, &quot;on&quot;,
                    &quot;--vtxvpid&quot;, &quot;on&quot;,
                    &quot;--largepages&quot;, &quot;on&quot;
                ]
        end
    end

    config.vm.define &quot;node1&quot; do |s|
        s.vm.hostname = &quot;node1&quot;
        s.vm.network &quot;private_network&quot;, ip: &quot;10.10.10.11&quot;
        s.vm.provider &quot;virtualbox&quot; do |v|
            v.linked_clone = true
            v.customize [
                    &quot;modifyvm&quot;, :id,
                    &quot;--memory&quot;, 1024,
                    &quot;--cpus&quot;, &quot;1&quot;,
                    &quot;--nictype1&quot;, &quot;virtio&quot;,
                    &quot;--nictype2&quot;, &quot;virtio&quot;,
                    &quot;--hwvirtex&quot;, &quot;on&quot;,
                    &quot;--ioapic&quot;, &quot;on&quot;,
                    &quot;--rtcuseutc&quot;, &quot;on&quot;,
                    &quot;--vtxvpid&quot;, &quot;on&quot;,
                    &quot;--largepages&quot;, &quot;on&quot;
                ]
        end
    end

    config.vm.define &quot;node2&quot; do |s|
        s.vm.hostname = &quot;node2&quot;
        s.vm.network &quot;private_network&quot;, ip: &quot;10.10.10.12&quot;
        s.vm.provider &quot;virtualbox&quot; do |v|
            v.linked_clone = true
            v.customize [
                    &quot;modifyvm&quot;, :id,
                    &quot;--memory&quot;, 1024,
                    &quot;--cpus&quot;, &quot;1&quot;,
                    &quot;--nictype1&quot;, &quot;virtio&quot;,
                    &quot;--nictype2&quot;, &quot;virtio&quot;,
                    &quot;--hwvirtex&quot;, &quot;on&quot;,
                    &quot;--ioapic&quot;, &quot;on&quot;,
                    &quot;--rtcuseutc&quot;, &quot;on&quot;,
                    &quot;--vtxvpid&quot;, &quot;on&quot;,
                    &quot;--largepages&quot;, &quot;on&quot;
                ]
        end
    end

    config.vm.define &quot;node3&quot; do |s|
       s.vm.hostname = &quot;node3&quot;
       s.vm.network &quot;private_network&quot;, ip: &quot;10.10.10.13&quot;
       s.vm.provider &quot;virtualbox&quot; do |v|
           v.linked_clone = true
           v.customize [
                   &quot;modifyvm&quot;, :id,
                   &quot;--memory&quot;, 1024,
                   &quot;--cpus&quot;, &quot;1&quot;,
                   &quot;--nictype1&quot;, &quot;virtio&quot;,
                   &quot;--nictype2&quot;, &quot;virtio&quot;,
                   &quot;--hwvirtex&quot;, &quot;on&quot;,
                   &quot;--ioapic&quot;, &quot;on&quot;,
                   &quot;--rtcuseutc&quot;, &quot;on&quot;,
                   &quot;--vtxvpid&quot;, &quot;on&quot;,
                   &quot;--largepages&quot;, &quot;on&quot;
                    ]
            end
        end
    config.vm.provision &quot;shell&quot;, inline: &lt;&lt;-SHELL
      #yum update -y
    SHELL
end
</code></pre>
        </div>

        


        

<div class="post-archive">
    <h2>å…¶ä»–æ–‡ç« </h2>
    <ul class="listing">
        
        <li><a href="/postgres/oom/">æ•°æ®åº“ OOM é¢„é˜²</a></li>
        
        <li><a href="/middleware/consul/">Consul DNS æœåŠ¡å‘ç°</a></li>
        
        <li><a href="/middleware/coredns/">coredns</a></li>
        
    </ul>
</div>



        <div class="post-meta meta-tags">
            
            æ²¡æœ‰æ ‡ç­¾
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "your github repo"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2018 - 2021 <a href="https://zhangeamon.top"> By Eamon</a>
        
    </div>
    <br />
  
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>






    <script src='/js/douban.js'></script>


                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zhangeamon.top/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zhangeamon.top">
      <button type="submit" class="submit icon-search"></button>
</form>

    </section>
    
    <section class="widget">
        <h3 class="widget-title">æœ€è¿‘æ–‡ç« </h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zhangeamon.top/linux/fastdeletfiles/" title="å¿«é€Ÿåˆ é™¤å¤§é‡æ–‡ä»¶">å¿«é€Ÿåˆ é™¤å¤§é‡æ–‡ä»¶</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/linux/perf/" title="perf linux æ€§èƒ½åˆ†æ">perf linux æ€§èƒ½åˆ†æ</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/linux/xz/" title="é«˜å‹ç¼©æ¯”å·¥å…· XZ">é«˜å‹ç¼©æ¯”å·¥å…· XZ</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/ch/install/" title="ClickHouse">ClickHouse</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/postgres/pg_json/" title="æ•°æ®åº“çš„jsonç±»å‹">æ•°æ®åº“çš„jsonç±»å‹</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/python/simple-demo/" title="python ç®€å•ç¤ºä¾‹">python ç®€å•ç¤ºä¾‹</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/redis/long-polling/" title="é•¿è½®è¯¢">é•¿è½®è¯¢</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/redis/automated-keyword/" title="è”æƒ³æœç´¢">è”æƒ³æœç´¢</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/python/push_messages/" title="æ¶ˆæ¯æ¨é€">æ¶ˆæ¯æ¨é€</a>
    </li>
    
    <li>
        <a href="https://zhangeamon.top/postgres/pg_elk/" title="æ•°æ®åº“æ—¥å¿—åˆ†æ">æ•°æ®åº“æ—¥å¿—åˆ†æ</a>
    </li>
    
</ul>

    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories'>åˆ†ç±»</a></h3>
<ul class="widget-list">
    
    <li><a href="https://zhangeamon.top/categories/ansible/">ansible (4)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/docker/">docker (1)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/etcd/">etcd (1)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/linux/">linux (17)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/mysql/">mysql (4)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/nginx/">nginx (2)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/postgres/">postgres (23)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/python/">python (17)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/rabbitmq/">rabbitmq (2)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/redis/">redis (9)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/">ä¸­é—´ä»¶ (9)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E5%AD%98%E5%82%A8/">å­˜å‚¨ (3)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E5%AE%89%E5%85%A8/">å®‰å…¨ (2)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E6%95%B0%E4%BB%93/">æ•°ä»“ (3)</a></li>
    
    <li><a href="https://zhangeamon.top/categories/%E7%9B%91%E6%8E%A7/">ç›‘æ§ (2)</a></li>
    
</ul>

    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags.html'>æ ‡ç­¾</a></h3>
<div class="tagcloud">
    
    <a href="https://zhangeamon.top/tags/%E4%BC%98%E5%8C%96/">ä¼˜åŒ–</a>
    
    <a href="https://zhangeamon.top/tags/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/">é…ç½®ç®¡ç†</a>
    
    <a href="https://zhangeamon.top/tags/%E9%AB%98%E5%8F%AF%E7%94%A8/">é«˜å¯ç”¨</a>
    
</div>

    </section>

    
<section class="widget">
    <h3 class="widget-title">å‹æƒ…é“¾æ¥</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="http://www.cnblogs.com/zhangeamon" title="å†å²åšå®¢">å†å²åšå®¢</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">å…¶å®ƒ</h3>
        <ul class="widget-list">
            <li><a href="https://zhangeamon.top/index.xml">æ–‡ç«  RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
   
</body>

</html>
