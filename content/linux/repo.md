---
title: "Centos7 私有源搭建"
date: 2020-05-19T10:32:33+08:00
draft: false
---

#### 介绍

为了保证IDC内所有主机版本一致。

目前问题， 当主机执行yum update 时，软件版本不可控。每个主机版本完全取决于更新的时机。

造成了同一个IDC内的版本的差异，比如有的数据库的版本为10.06,有的为10.13。尤其是使用了如postgis等拓展的时候。版本混乱，甚至主从之间都不一致。

#### 实现方法

###### 思路

一台机器做源服务统一管理所有软件的版本，更新策略（私有源服务中心）。其他主机指向私有源。

###### 方法

- reposync , yumdownloader 下载源，将远程服务源下载到本地
- nginx 将本地源对外提供服务
- createrepo 生成本地源

###### 
